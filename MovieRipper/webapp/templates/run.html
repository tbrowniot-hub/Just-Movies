<!doctype html><html><body><h2>Run Queue</h2>
<form id="start"><input name="queue_path" placeholder="movie_queue.json"><input name="config_path" placeholder="config.json"><button>Start</button></form>
<button id="stop">Stop</button>
<pre id="status"></pre><pre id="logs"></pre>
<script>
start.onsubmit=async(e)=>{e.preventDefault();let fd=new FormData(start);await fetch('/api/run/start',{method:'POST',body:fd})}
stop.onclick=async()=>{await fetch('/api/run/stop',{method:'POST'})}
setInterval(async()=>{status.textContent=JSON.stringify(await (await fetch('/api/status')).json(),null,2);logs.textContent=(await (await fetch('/api/logs?tail=40')).json()).lines.join('\n')},1000)
</script>
</body></html>
